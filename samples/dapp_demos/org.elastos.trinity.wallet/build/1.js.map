{"version":3,"sources":["../../src/pages/supernodeelection/superpoint/votemanage/votemanage.module.ts","../../src/pages/supernodeelection/superpoint/votemanage/votemanage.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { VotemanagePage } from './votemanage';\n\n@NgModule({\n  declarations: [\n    VotemanagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VotemanagePage),\n    TranslateModule.forChild()\n  ],\n})\nexport class VotemanagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supernodeelection/superpoint/votemanage/votemanage.module.ts","import { Component,NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {PopupProvider} from \"../../../../providers/popup\";\nimport {WalletManager} from \"../../../../providers/WalletManager\";\nimport {Native} from \"../../../../providers/Native\";\nimport {Util} from '../../../../providers/Util';\nimport {  Config } from '../../../../providers/Config';\nimport {ScancodePage} from '../../../../pages/scancode/scancode';\nimport {ApiUrl} from \"../../../../providers/ApiUrl\";\n\n/**\n * Generated class for the VotemanagePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-votemanage',\n  templateUrl: 'votemanage.html',\n})\nexport class VotemanagePage {\n  public passworld:string = \"\";\n  public masterId:string =\"1\";\n  public publickey:string = \"\";\n  public curChain = \"ELA\";\n  public fee:number = 0;\n  public feePerKb:number = 10000;\n  public info = {};\n  public walletInfo = {};\n  public voteList = [];\n  public countrys=[];\n  constructor(public navCtrl: NavController, public navParams: NavParams,public popupProvider: PopupProvider,public native :Native,public walletManager :WalletManager,public zone :NgZone) {\n    this.masterId = Config.getCurMasterWalletId();\n    this.countrys = Config.getAllCountry();\n    this.getVoteList();\n    this.init();\n    //this.getRegisteredProducerInfo();\n    //this.getPublicKeyForVote();\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VotemanagePage');\n\n  }\n\n  init(){\n    this.walletManager.getMasterWalletBasicInfo(this.masterId,(data)=>{\n                 if(data[\"success\"]){\n                    this.native.info(data);\n                    let item = JSON.parse(data[\"success\"])[\"Account\"];\n                    this.walletInfo = item;\n                 }\n    });\n  }\n\n  logout(){\n    this.popupProvider.ionicConfirm('confirmTitle', 'log-out-subTitle').then((data) => {\n      if (data) {\n        this.popupProvider.presentPrompt().then((val)=>{\n          if(Util.isNull(val)){\n            this.native.toast_trans(\"text-id-kyc-prompt-password\");\n            return;\n          }\n          this.passworld = val.toString();\n          this.native.showLoading().then(()=>{\n                this.generateCancelProducerPayload();\n          });\n          //this.native.Go(this.navCtrl,'JoinvotelistPage');\n}).catch(()=>{\n\n});\n      }\n    });\n  }\n\n\n  getPublicKeyForVote(){\n    this.walletManager.getPublicKeyForVote(this.masterId,this.curChain,(data)=>{\n              this.native.info(data);\n              if(data[\"success\"]){\n                this.publickey = data[\"success\"];\n              }\n    });\n  }\n\n  generateCancelProducerPayload(){\n     this.walletManager.generateCancelProducerPayload(this.masterId,this.curChain,this.publickey,this.passworld,(data)=>{\n      this.native.info(data);\n      if(data[\"success\"]){\n           this.createCancelProducerTransaction(data[\"success\"]);\n      }\n     });\n  }\n\n\n  createCancelProducerTransaction(payloadJson){\n       this.walletManager.createCancelProducerTransaction(this.masterId,this.curChain,\"\",payloadJson,\"\",\"\",false,(data)=>{\n        this.native.info(data);\n        if(data[\"success\"]){\n            this.getFee(data[\"success\"]);\n        }\n\n       });\n  }\n\n\n  //计算手续费\n getFee(rawTransaction){\n  this.walletManager.calculateTransactionFee(this.masterId,this.curChain,rawTransaction, this.feePerKb, (data) => {\n    if(data['success']){\n      this.native.hideLoading();\n      this.native.info(data);\n      this.fee = data['success'];\n      this.popupProvider.presentConfirm1(this.fee/Config.SELA).then(()=>{\n              this.native.showLoading().then(()=>{\n                this.updateTxFee(rawTransaction);\n              });\n\n      });\n    }\n  });\n }\n\n\n updateTxFee(rawTransaction){\n\n  this.walletManager.updateTransactionFee(this.masterId,this.curChain,rawTransaction, this.fee,\"\",(data)=>{\n    if(data[\"success\"]){\n     this.native.info(data);\n     if(this.walletInfo[\"Type\"] === \"Multi-Sign\" && this.walletInfo[\"InnerType\"] === \"Readonly\"){\n              this.readWallet(data[\"success\"]);\n              return;\n     }\n     this.singTx(data[\"success\"]);\n    }else{\n     this.native.info(data);\n    }\n});\n }\n\n\n singTx(rawTransaction){\n  this.walletManager.signTransaction(this.masterId,this.curChain,rawTransaction,this.passworld,(data)=>{\n    if(data[\"success\"]){\n      this.native.info(data);\n      if(this.walletInfo[\"Type\"] === \"Standard\"){\n            this.sendTx(data[\"success\"]);\n      }else if(this.walletInfo[\"Type\"] === \"Multi-Sign\"){\n          this.walletManager.encodeTransactionToString(data[\"success\"],(raw)=>{\n                   if(raw[\"success\"]){\n                    this.native.hideLoading();\n                    this.native.Go(this.navCtrl,ScancodePage,{\"tx\":{\"chianId\":this.curChain,\"fee\":this.fee/Config.SELA, \"raw\":raw[\"success\"]}});\n                   }else{\n                    this.native.info(raw);\n                   }\n          });\n      }\n     }else{\n         this.native.info(data);\n     }\n  });\n }\n\n sendTx(rawTransaction){\n  this.native.info(rawTransaction);\n  this.walletManager.publishTransaction(this.masterId,this.curChain,rawTransaction,(data)=>{\n    if(data['success']){\n      this.native.hideLoading();\n      this.native.toast_trans('send-raw-transaction');\n    }else{\n      this.native.info(data);\n    }\n  });\n }\n\n readWallet(raws){\n  this.walletManager.encodeTransactionToString(raws,(raw)=>{\n    if(raw[\"success\"]){\n      this.native.hideLoading();\n      this.native.Go(this.navCtrl,ScancodePage,{\"tx\":{\"chianId\":this.curChain,\"fee\":this.fee/Config.SELA, \"raw\":raw[\"success\"]}});\n    }\n});\n}\n\ngetRegisteredProducerInfo(){\n  // this.zone.run(()=>{\n  //   this.info = this.getCurProducerInfo(\"0341315fe4e1f26ba09c5c56bf76e1e97aaee992f59407b33c4fc9d42e11634bdc\");\n  // });\n\n  // console.log(JSON.stringify(this.info));\n  //this.native.info(this.info);\n  this.walletManager.getRegisteredProducerInfo(this.masterId,\"ELA\",(data)=>{\n    this.native.info(data);\n    if(data[\"success\"]){\n        let item = JSON.parse(data[\"success\"]);\n        let publicKey = item[\"Info\"][\"OwnerPublicKey\"];\n        this.publickey = item[\"Info\"][\"OwnerPublicKey\"];\n        this.native.info(this.publickey);\n        this.info = this.getCurProducerInfo(publicKey);\n\n        this.native.info(this.info);\n    }\n  });\n}\n\ngetCurProducerInfo(publicKey){\n  for(let index = 0;index<this.voteList.length;index++){\n    let item = this.voteList[index];\n    if(publicKey === item[\"ownerpublickey\"]){\n          return item;\n    }\n  }\n\n  return {};\n}\n0\ngetVoteList(){\n  this.native.getHttp().postByAuth(ApiUrl.listproducer).toPromise().then(data=>{\n         if(data[\"status\"] === 200){\n             //this.native.info(data);\n             let votesResult = JSON.parse(data[\"_body\"]);\n             if(votesResult[\"code\"] === \"0\"){\n              //this.native.info(votesResult);\n              this.voteList = votesResult[\"data\"][\"result\"][\"producers\"] || [];\n              //console.log(JSON.stringify(this.voteList));\n              this.native.info(this.voteList);\n              this.getRegisteredProducerInfo();\n             }\n           }\n  });\n}\n\npublic getCountryByCode(code){\n\n  for(let index in this.countrys){\n      let item = this.countrys[index];\n      if(code === parseInt(item[\"code\"])){\n        return item[\"key\"];\n      }\n    }\n    return \"Unknown\";\n}\n\nupdateInfo(){\n  this.native.Go(this.navCtrl,'UpdateproducerPage',this.info);\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supernodeelection/superpoint/votemanage/votemanage.ts"],"sourceRoot":""}