{"version":3,"sources":["../../src/pages/supernodeelection/superpoint/myvote/myvote.module.ts","../../src/pages/supernodeelection/superpoint/myvote/myvote.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MyvotePage } from './myvote';\n\n@NgModule({\n  declarations: [\n    MyvotePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyvotePage),\n    TranslateModule.forChild()\n  ],\n})\nexport class MyvotePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supernodeelection/superpoint/myvote/myvote.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Native } from '../../../../providers/Native';\nimport {WalletManager} from '../../../../providers/WalletManager';\nimport { Config } from '../../../../providers/Config';\nimport {ApiUrl} from \"../../../../providers/ApiUrl\";\n/**\n * Generated class for the MyvotePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-myvote',\n  templateUrl: 'myvote.html',\n})\nexport class MyvotePage {\n    public masterWalletId:string = \"1\";\n    public walletName:string =\"\";\n    public totalNum = 1100;\n    public voteList = [];\n    public selectNode = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams,public native: Native,public walletManager: WalletManager) {\n    this.masterWalletId = Config.getCurMasterWalletId();\n    this.walletName = Config.getWalletName(this.masterWalletId);\n    this.init();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MyvotePage');\n  }\n\n  changevote(){\n      console.log(\"=============\"+JSON.stringify(this.selectNode));\n      this.native.Go(this.navCtrl,\"PointvotePage\",{\"selectNode\":this.selectNode});\n  }\n\n  getVotedProducerList(list){\n    // let productList = JSON.parse(\"{\\\"03b273e27a6820b55fe5a6b7a445814f7c1db300e961661aaed3a06cbdfd3dca5d\\\":110000000}\");\n    // this.selectNode = this.objtoArr(productList);\n    // this.voteList = this.getVoteList(productList,list);\n    this.walletManager.getVotedProducerList(this.masterWalletId,\"ELA\",(data)=>{\n      if(data[\"success\"]){\n        this.native.info(data);\n        let productList = JSON.parse(data[\"success\"]);\n        this.selectNode = this.objtoArr(productList);\n        this.voteList = this.getVoteList(productList,list);\n      }\n    });\n  }\n\n\n  init(){\n    this.native.getHttp().postByAuth(ApiUrl.listproducer).toPromise().then(data=>{\n      if(data[\"status\"] === 200){\n          this.native.info(data);\n          let votesResult = JSON.parse(data[\"_body\"]);\n          if(votesResult[\"code\"] === \"0\"){\n           this.native.info(votesResult);\n           let list = votesResult[\"data\"][\"result\"][\"producers\"] || [];\n           this.getVotedProducerList(list);\n          }\n        }\n  });\n  }\n\n\n\n objtoArr(obj){\n\t  let arr = [];\n\t  for(let key in obj){\n          arr.push(key);\n\t  }\n    return arr;\n  }\n\n\n  getVoteList(obj,list){\n    let arr = [];\n    for(let key in obj){\n      let name = Config.getNickname(key,list);\n      if(name != \"\"){\n        let item ={\"name\":name,\"votes\":obj[key]/Config.SELA};\n        arr.push(item);\n      }\n    }\n    return arr;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/supernodeelection/superpoint/myvote/myvote.ts"],"sourceRoot":""}